<!DOCTYPE html>
<html lang="en">
  <head th:fragment="head">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Code Fellowship</title>
    <link rel="stylesheet" type="text/css" href="/css/reset.css">
    <link rel="stylesheet" type="text/css" href="/css/layout.css">
    <link rel="stylesheet" type="text/css" href="/css/theme.css">
  </head>
<body>
  <!-- Header Fragment -->
  <header th:fragment="header">
    <h1>Code Fellowship</h1>
    <p>The place where people learning to code can communicate along their journey</p>
    <nav th:if=${user}>
      <a href="/">Home</a>
      <a th:href="'/user/' + ${user.id}">My Profile</a>
      <a href="/logout">Log Out</a>
    </nav>
    <nav th:unless=${user}>
      <a href="/login">Log In</a>
      <a href="/signup">Sign Up</a>
    </nav>
  </header>

  <!-- New Post From -->
  <form th:fragment="new-post-form" class="new-post-form" th:action="'/newPost/' + ${user.id}" method="POST">
    <h3>Create A New Post</h3>
    <textarea name="body" placeholder="Post your thoughts here" required></textarea>
    <input type="submit" value="Submit">
  </form>

  <!-- User Posts -->
  <div th:fragment="user-posts" class="user-posts">
    <h3 th:text="${user.firstName} + '\'s Posts'">User's Posts</h3>
    <ul>
      <li th:each="post : ${user.posts}">
        <h4 th:text="${post.createdAt}">Creation Date</h4>
        <p th:text="${post.body}">Post Body</p>
      </li>
    </ul>
  </div>

  <!-- Footer Fragment -->
  <footer th:fragment="footer">
    <p>&copy; 2020 codefellowship.com</p>
  </footer>
</body>
</html>